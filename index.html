<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê°ì •â†’ê°€ì¡± ë¸Œë¦¿ì§€ í”„ë¡œì íŠ¸ë¶ (10ì°¨ì‹œ)</title>
  <style>
    /* ============ ê¸°ë³¸ / ìƒ‰ìƒ ============ */
    :root {
      --ink: #333;
      --bg: #ffffff;
      --paper-shadow: rgba(0,0,0,0.08);
      --pri: #5B4E8C;
      --pri-2: #7B6BA8;
      --acc-1: #FFB84D;
      --acc-2: #4CAF50;
      --line: #E0E0E0;
    }
    
    * { 
      box-sizing: border-box; 
      margin: 0;
      padding: 0;
    }
    
    html, body { 
      height: 100%; 
    }
    
    body { 
      font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', system-ui, -apple-system, sans-serif; 
      color: var(--ink); 
      background: #e9e9ee; 
      line-height: 1.6; 
    }

    /* ============ ì¸ì‡„ ============ */
    @page { 
      size: A4 portrait; 
      margin: 10mm; 
    }
    
    @media print {
      body { background: #fff; }
      .no-print, .fab { display: none !important; }
      .page { 
        width: auto !important; 
        min-height: auto !important; 
        height: auto !important; 
        padding: 8mm; 
        margin: 0; 
        box-shadow: none !important; 
        page-break-after: always; 
      }
      .page:last-child { page-break-after: avoid; }
      
      /* ì¸ì‡„ ì‹œ ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
      input[type="text"], input[type="date"], textarea { 
        border: none !important; 
        border-bottom: 1px solid #666 !important;
        box-shadow: none !important; 
        background: transparent !important;
        padding: 0 !important;
      }
      
      .fill {
        border-bottom: 1px solid #666 !important;
        min-width: 150px !important;
      }
      
      .text {
        border-bottom: 1px solid #666 !important;
      }
      
      .q {
        border: none !important;
        border-bottom: 1px solid #666 !important;
        min-height: 50px !important;
      }
      
      .rec-textarea {
        border: 1px solid #999 !important;
        min-height: 50px !important;
      }
      
      /* ì²´í¬ë°•ìŠ¤ì™€ ë¼ë””ì˜¤ ë²„íŠ¼ ì¸ì‡„ ìµœì í™” */
      input[type="checkbox"], input[type="radio"] {
        width: 12px !important;
        height: 12px !important;
        border: 1px solid #666 !important;
        background: white !important;
      }
      
      /* ì˜ˆì‹œ ë°•ìŠ¤ ì¸ì‡„ ì‹œ ì„ ëª…í•˜ê²Œ */
      .tip {
        border: 1px solid #ccc !important;
        background: #f9f9f9 !important;
      }
    }

    /* ============ í˜ì´ì§€ ë ˆì´ì•„ì›ƒ ============ */
    .page { 
      width: 210mm; 
      min-height: 297mm; 
      margin: 16px auto; 
      padding: 20mm; 
      background: var(--bg); 
      box-shadow: 0 6px 24px var(--paper-shadow); 
      border-radius: 8px; 
    }
    
    @media (max-width: 768px) {
      .page { 
        width: 100%; 
        min-height: auto; 
        padding: 16px; 
        margin: 12px auto; 
        border-radius: 0; 
      }
    }

    /* ============ í‘œì§€ ============ */
    .cover { 
      height: calc(297mm - 40mm); 
      display: flex; 
      flex-direction: column; 
      justify-content: center; 
      align-items: center; 
      text-align: center; 
    }
    
    .cover .emoji { 
      font-size: 72pt; 
      margin: 8mm 0 2mm; 
    }
    
    .cover h1 { 
      font-size: 36pt; 
      color: var(--pri); 
      margin: 6mm 0 2mm; 
    }
    
    .cover .subtitle { 
      font-size: 16pt; 
      color: var(--pri-2); 
    }
    
    .cover .info-box { 
      margin-top: 12mm; 
      width: 100%; 
      max-width: 140mm; 
      background: #F8F6FF; 
      border: 3px solid #9B8BC8; 
      border-radius: 16px; 
      padding: 14px 18px; 
    }
    
    .info-row { 
      display: grid; 
      grid-template-columns: 110px 1fr; 
      gap: 8px; 
      align-items: center; 
      margin: 6px 0; 
    }
    
    .info-row label { 
      text-align: right; 
      font-weight: 700; 
      color: #666; 
    }
    
    .text { 
      width: 100%; 
      border: none; 
      border-bottom: 2px solid #9B8BC8; 
      padding: 6px 8px; 
      background: transparent; 
    }
    
    .text:focus { 
      outline: 2px solid #c9bdf0; 
      border-bottom-color: var(--pri); 
    }

    /* ============ ëª©ì°¨/ì§„ë„ ============ */
    .toc h2 { 
      font-size: 24pt; 
      color: var(--pri); 
      text-align: center; 
      margin-bottom: 14px; 
      padding-bottom: 8px; 
      border-bottom: 3px solid #9B8BC8; 
    }
    
    .toc-list { 
      display: grid; 
      grid-template-columns: 1fr auto; 
      gap: 6px 10px; 
      font-size: 11pt; 
    }
    
    .progress-check { 
      margin-top: 18px; 
    }
    
    .progress-grid { 
      display: grid; 
      grid-template-columns: repeat(10, 1fr); 
      gap: 10px; 
      margin: 12px 0; 
    }
    
    .puck { 
      aspect-ratio: 1; 
      border: 2px solid #9B8BC8; 
      border-radius: 50%; 
      display: grid; 
      place-items: center; 
      font-weight: 700; 
      color: #9B8BC8; 
      background: #fff; 
      cursor: pointer; 
      user-select: none; 
    }
    
    .puck.done { 
      background: #9B8BC8; 
      color: #fff; 
    }

    /* ============ ê°€ì´ë“œ/íŒ ============ */
    .guide h2 { 
      font-size: 20pt; 
      color: var(--pri); 
      margin-bottom: 12px; 
    }
    
    .guide h3 { 
      font-size: 14pt; 
      color: var(--pri-2); 
      margin: 14px 0 8px; 
    }
    
    .tip { 
      background: #FFF9E6; 
      border-left: 4px solid var(--acc-1); 
      padding: 12px; 
      border-radius: 6px; 
      margin: 10px 0;
    }

    /* ============ ì›Œí¬ì‹œíŠ¸ ê³µí†µ ============ */
    .ws-header { 
      background: linear-gradient(135deg, #F0E6FF 0%, #E6F3FF 100%); 
      padding: 12px; 
      border-radius: 12px; 
      margin-bottom: 14px; 
    }
    
    .ws-header h2 { 
      font-size: 18pt; 
      text-align: center; 
      color: var(--pri); 
      margin: 4px 0 10px; 
    }
    
    .grid3 { 
      display: grid; 
      grid-template-columns: repeat(3, 1fr); 
      gap: 12px; 
    }
    
    @media (max-width: 768px) {
      .grid3 { 
        grid-template-columns: 1fr; 
      }
    }
    
    .grid3 .field { 
      display: grid; 
      grid-template-columns: auto 1fr; 
      gap: 6px; 
      align-items: center; 
    }
    
    .label { 
      font-weight: 700; 
      color: #666; 
    }

    .section { 
      margin: 16px 0; 
      padding: 14px; 
      border-radius: 12px; 
    }
    
    .s1 { background: #FFF9F0; }
    .s2 { background: #F0F9FF; }
    .s3 { background: #F0FFF5; }
    .s4 { background: #FFF0F9; }
    .s5 { background: #FFF0F0; }
    
    .section h3 { 
      color: var(--pri); 
      margin-bottom: 10px; 
      font-size: 14pt; 
    }

    .weather-grid { 
      display: grid; 
      grid-template-columns: repeat(6, 1fr); 
      gap: 8px; 
      margin: 10px 0;
    }
    
    @media (max-width: 768px) {
      .weather-grid { 
        grid-template-columns: repeat(3, 1fr); 
      }
    }
    
    .weather-item { 
      text-align: center; 
      padding: 8px 6px; 
      border: 2px solid var(--line); 
      border-radius: 8px; 
      background: #fff; 
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .weather-item:hover {
      background: #fef3c7;
      border-color: #f59e0b;
    }
    
    .weather-item .emoji { 
      display: block; 
      font-size: 20pt; 
    }
    
    .weather-item .caption { 
      font-size: 9pt; 
      margin-top: 3px; 
    }

    .scale { 
      display: flex; 
      gap: 6px; 
      margin: 10px 0;
    }
    
    .box { 
      width: 30px; 
      height: 30px; 
      border: 2px solid #ccc; 
      border-radius: 6px; 
      display: grid; 
      place-items: center; 
      cursor: pointer;
      user-select: none;
    }
    
    .box.filled {
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      border-color: #f59e0b;
    }

    .check-grid { 
      display: grid; 
      grid-template-columns: repeat(3, 1fr); 
      gap: 8px; 
      margin: 10px 0;
    }
    
    @media (max-width: 768px) {
      .check-grid { 
        grid-template-columns: repeat(2, 1fr); 
      }
    }
    
    .check { 
      display: flex; 
      align-items: center; 
      gap: 6px; 
      background: #fff; 
      border-radius: 6px; 
      padding: 6px; 
      cursor: pointer;
    }
    
    .check:hover {
      background: #f0f0f0;
    }

    .fill { 
      width: 200px; 
      border: none; 
      border-bottom: 2px solid #9B8BC8; 
      background: transparent; 
      padding: 3px 4px; 
      font-size: 11pt;
      font-family: inherit;
    }
    
    @media print {
      .fill {
        border-bottom: 1px solid #333 !important;
        padding: 0 2px !important;
      }
    }
    
    .fill:focus { 
      outline: 2px solid #c9bdf0; 
    }

    .homebox { 
      border: 2px solid var(--acc-1); 
      border-radius: 10px; 
      background: #FFF9E6; 
      padding: 12px; 
    }
    
    .q { 
      width: 100%; 
      min-height: 42px; 
      resize: vertical; 
      border: none; 
      background: transparent; 
      border-bottom: 2px dashed #e5c07b; 
      padding: 6px; 
    }

    /* ============ ê°ì • ì‚¬ì „ ============ */
    .dict { 
      display: grid; 
      grid-template-columns: repeat(2, 1fr); 
      gap: 16px; 
    }
    
    @media (max-width: 768px) {
      .dict { 
        grid-template-columns: 1fr; 
      }
    }
    
    .dict-cat { 
      background: #F8F8F8; 
      padding: 12px; 
      border-radius: 10px; 
    }
    
    .dict-cat h4 { 
      color: var(--pri); 
      margin-bottom: 6px; 
    }
    
    .chips { 
      display: flex; 
      flex-wrap: wrap; 
      gap: 8px; 
    }
    
    .chip { 
      background: #fff; 
      border: 1px solid var(--line); 
      border-radius: 20px; 
      padding: 4px 10px; 
      font-size: 10pt; 
    }

    /* ============ ì„±ì¥ ê¸°ë¡ ============ */
    .record { 
      background: #F0F9FF; 
      padding: 16px; 
      border-radius: 10px; 
    }
    
    .rec-item { 
      background: #fff; 
      border-radius: 6px; 
      padding: 8px; 
      margin: 8px 0; 
    }
    
    .rec-item .ttl { 
      font-weight: 700; 
      color: var(--pri-2); 
      margin-bottom: 4px; 
    }
    
    .rec-textarea {
      width: 100%;
      min-height: 60px;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 8px;
      resize: vertical;
    }

    .family-promise { 
      margin-top: 22px; 
      padding: 24px; 
      background: linear-gradient(135deg, #F0E6FF 0%, #E6F3FF 100%); 
      border-radius: 14px; 
      text-align: center; 
    }

    /* ============ ë²„íŠ¼ ============ */
    .fab { 
      position: fixed; 
      right: 16px; 
      bottom: 16px; 
      display: grid; 
      gap: 8px; 
      z-index: 999; 
    }
    
    .btn { 
      border: none; 
      background: var(--pri); 
      color: #fff; 
      padding: 10px 16px; 
      border-radius: 999px; 
      cursor: pointer; 
      font-weight: 700; 
      box-shadow: 0 4px 10px rgba(0,0,0,.15); 
      transition: transform .15s ease, background .15s ease; 
    }
    
    .btn:hover { 
      transform: translateY(-2px); 
      background: var(--pri-2); 
    }
    
    .btn.green { background: var(--acc-2); }
    .btn.orange { background: var(--acc-1); color: #5a3b00; }
    .btn.grey { background: #777; }

    /* í¬ì»¤ìŠ¤ ê°€ì‹œí™” */
    a:focus, button:focus, input:focus, textarea:focus { 
      outline: 3px solid #aac4ff; 
      outline-offset: 2px; 
    }
  </style>
</head>
<body>
  <!-- ê³ ì • ë²„íŠ¼ -->
  <div class="fab no-print">
    <button class="btn green" id="btnPrint">ğŸ–¨ï¸ ì¸ì‡„</button>
    <button class="btn" id="btnCert">ğŸ† ì¸ì¦ì„œ</button>
    <button class="btn orange" id="btnShare">ğŸ“£ ê³µìœ ì¹´ë“œ</button>
    <button class="btn grey" id="btnReset">â™»ï¸ ì´ˆê¸°í™”</button>
  </div>

  <!-- 1: í‘œì§€ -->
  <section class="page">
    <div class="cover">
      <div class="emoji">ğŸŒˆ ğŸ’ ğŸ </div>
      <h1>ê°ì •â†’ê°€ì¡± ë¸Œë¦¿ì§€</h1>
      <div class="subtitle">í”„ë¡œì íŠ¸ë¶</div>
      <div class="subtitle" style="font-size:14pt; margin-top: -10px;">ë§ˆìŒì„ ë‚˜ëˆ„ê³  ì´í•´í•˜ëŠ” 10ì£¼ ì—¬í–‰</div>
      
      <div class="info-box">
        <div class="info-row">
          <label for="cover-name">ì´ë¦„</label>
          <input id="cover-name" class="text" type="text" />
        </div>
        <div class="info-row">
          <label for="cover-class">í•™ë…„/ë°˜</label>
          <input id="cover-class" class="text" type="text" />
        </div>
        <div class="info-row">
          <label for="cover-start">ì‹œì‘ ë‚ ì§œ</label>
          <input id="cover-start" class="text" type="date" />
        </div>
        <div class="info-row">
          <label for="cover-goal">ëª©í‘œ</label>
          <input id="cover-goal" class="text" type="text" />
        </div>
      </div>
    </div>
  </section>

  <!-- 2: ëª©ì°¨ + ì§„ë„ -->
  <section class="page">
    <div class="toc">
      <h2>ğŸ“š ëª©ì°¨</h2>
      <div class="toc-list">
        <div>ğŸ¯ ì´ ì±…ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•</div><div>3</div>
        <div>ğŸ“ ì‘ì„± ì˜ˆì‹œ</div><div>4</div>
        <div>ğŸ“ 1íšŒì°¨ í•™ìŠµì§€</div><div>5</div>
        <div>ğŸ“ 2íšŒì°¨ í•™ìŠµì§€</div><div>6</div>
        <div>ğŸ“ 3íšŒì°¨ í•™ìŠµì§€</div><div>7</div>
        <div>ğŸ“ 4íšŒì°¨ í•™ìŠµì§€</div><div>8</div>
        <div>ğŸ“ 5íšŒì°¨ í•™ìŠµì§€</div><div>9</div>
        <div>ğŸ“ 6íšŒì°¨ í•™ìŠµì§€</div><div>10</div>
        <div>ğŸ“ 7íšŒì°¨ í•™ìŠµì§€</div><div>11</div>
        <div>ğŸ“ 8íšŒì°¨ í•™ìŠµì§€</div><div>12</div>
        <div>ğŸ“ 9íšŒì°¨ í•™ìŠµì§€</div><div>13</div>
        <div>ğŸ“ 10íšŒì°¨ í•™ìŠµì§€</div><div>14</div>
        <div>ğŸ“– ê°ì • ë‹¨ì–´ ì‚¬ì „</div><div>15</div>
        <div>ğŸŒ± ë‚˜ì˜ ì„±ì¥ ê¸°ë¡</div><div>16</div>
        <div>ğŸ’¡ ê°€ì¡±ê³¼ ì†Œí†µí•˜ëŠ” íŒ</div><div>17</div>
      </div>
      <div class="progress-check">
        <h3 style="color: var(--pri); text-align:center;">âœ… ì§„ë„ ì²´í¬</h3>
        <div class="progress-grid" id="progressGrid"></div>
        <p style="text-align:center; color:#666; font-size:10pt;">ì™„ë£Œí•œ íšŒì°¨ë¥¼ í´ë¦­í•´ì„œ í‘œì‹œí•´ìš” ğŸ¨</p>
      </div>
    </div>
  </section>

  <!-- 3: ì‚¬ìš© ê°€ì´ë“œ -->
  <section class="page">
    <div class="guide">
      <h2>ğŸ¯ ì´ ì±…ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•</h2>
      
      <h3>ğŸ“Œ ë§¤ì£¼ í•œ ë²ˆì”© ì‘ì„±í•´ìš”</h3>
      <p>ì´ í”„ë¡œì íŠ¸ë¶ì€ 10ì£¼ ë™ì•ˆ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. ë§¤ì£¼ í•œ ë²ˆì”©, ê°€ì¡±ê³¼ ìˆì—ˆë˜ íŠ¹ë³„í•œ ì¼ì„ ë– ì˜¬ë¦¬ë©° ì‘ì„±í•´ë³´ì„¸ìš”.</p>
      
      <h3>ğŸ“Œ ì´ë ‡ê²Œ ì§„í–‰í•´ìš”</h3>
      <ul>
        <li><strong>1ë‹¨ê³„:</strong> ê·¸ë•Œ ìˆì—ˆë˜ ì¼ì„ ì§§ê²Œ ì œëª©ìœ¼ë¡œ ì¨ìš”</li>
        <li><strong>2ë‹¨ê³„:</strong> ë‚´ ë§ˆìŒ ë‚ ì”¨ì™€ ëŠë‚Œì„ í‘œí˜„í•´ìš”</li>
        <li><strong>3ë‹¨ê³„:</strong> ë‚´ê°€ ì›í–ˆë˜ ê²ƒì´ ë¬´ì—‡ì¸ì§€ ìƒê°í•´ìš”</li>
        <li><strong>4ë‹¨ê³„:</strong> ê°€ì¡±ì˜ ë§ˆìŒë„ ìƒìƒí•´ë´ìš”</li>
        <li><strong>5ë‹¨ê³„:</strong> ë§ˆìŒì„ ì „í•˜ëŠ” ë§ì„ ì—°ìŠµí•´ìš”</li>
        <li><strong>6ë‹¨ê³„:</strong> ì§‘ì—ì„œ ê°€ì¡±ê³¼ ëŒ€í™”í•´ìš”</li>
      </ul>
      
      <div class="tip">
        <strong>ğŸ’¡ Tip!</strong> ì²˜ìŒì—ëŠ” ì–´ë ¤ìš¸ ìˆ˜ ìˆì–´ìš”. í•˜ì§€ë§Œ ë§¤ì£¼ ì¡°ê¸ˆì”© ì—°ìŠµí•˜ë‹¤ ë³´ë©´ ê°€ì¡±ì˜ ë§ˆìŒì„ ì´í•´í•˜ê³  ë‚´ ë§ˆìŒì„ í‘œí˜„í•˜ëŠ” ê²ƒì´ ì‰¬ì›Œì§ˆ ê±°ì˜ˆìš”!
      </div>
    </div>
  </section>

  <!-- 3-1: ì‘ì„± ì˜ˆì‹œ í˜ì´ì§€ -->
  <section class="page">
    <div class="guide">
      <h2>ğŸ“ ì‘ì„± ì˜ˆì‹œ - ì´ë ‡ê²Œ ì¨ë³´ì„¸ìš”!</h2>
      
      <div style="margin-bottom: 25px;">
        <h3 style="color: #5B4E8C; margin-bottom: 10px;">ğŸ“Œ 4ë²ˆ ë¬¸ì¥ ë§Œë“¤ê¸° ì˜ˆì‹œ</h3>
        
        <div style="background: #FFF0F9; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
          <h4 style="color: #D1486F; margin-bottom: 10px;">ğŸ’ ìƒí™© 1: ì—„ë§ˆê°€ ë°”ë¹ ì„œ ê°™ì´ ëª» ë†€ì•„ì¤¬ì„ ë•Œ</h4>
          <div style="background: white; padding: 10px; border-radius: 5px; font-size: 11pt; line-height: 1.8;">
            <p>â‘  "ë„¤ê°€ <strong style="color: #9B8BC8;">ë°”ë¹ ì„œ</strong> ê·¸ë¬êµ¬ë‚˜. ê·¸ë˜ì„œ ë‚˜ëŠ” <strong style="color: #E88BC8;">ì„œìš´í–ˆì–´</strong>."</p>
            <p>â‘¡ "ë‚˜ëŠ” <strong style="color: #4A90E2;">ì—„ë§ˆì™€ ê°™ì´ ë†€ ì‹œê°„</strong>ì´ í•„ìš”í–ˆì–´."</p>
            <p>â‘¢ "ìš°ë¦¬ê°€ í•  ìˆ˜ ìˆëŠ” ì‘ì€ ì•½ì†ì€ <strong style="color: #FF8C00;">ì €ë… í›„ 15ë¶„ ë†€ê¸°</strong>ì•¼."</p>
          </div>
        </div>

        <div style="background: #F0FFF5; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
          <h4 style="color: #4CAF50; margin-bottom: 10px;">ğŸ’š ìƒí™© 2: ë™ìƒì´ ë‚´ ë¬¼ê±´ì„ ê°€ì ¸ê°”ì„ ë•Œ</h4>
          <div style="background: white; padding: 10px; border-radius: 5px; font-size: 11pt; line-height: 1.8;">
            <p>â‘  "ë„¤ê°€ <strong style="color: #9B8BC8;">ê¶ê¸ˆí•´ì„œ</strong> ê·¸ë¬êµ¬ë‚˜. ê·¸ë˜ì„œ ë‚˜ëŠ” <strong style="color: #E88BC8;">ë†€ëì–´</strong>."</p>
            <p>â‘¡ "ë‚˜ëŠ” <strong style="color: #4A90E2;">ë¨¼ì € ë¬¼ì–´ë´ ì£¼ëŠ” ê²ƒ</strong>ì´ í•„ìš”í–ˆì–´."</p>
            <p>â‘¢ "ìš°ë¦¬ê°€ í•  ìˆ˜ ìˆëŠ” ì‘ì€ ì•½ì†ì€ <strong style="color: #FF8C00;">ë¬¼ê±´ ë¹Œë¦´ ë•Œ ë¨¼ì € ë¬¼ì–´ë³´ê¸°</strong>ì•¼."</p>
          </div>
        </div>

        <div style="background: #F0F9FF; padding: 15px; border-radius: 10px;">
          <h4 style="color: #4A90E2; margin-bottom: 10px;">ğŸ’™ ìƒí™© 3: ì•„ë¹ ê°€ ëŠ¦ê²Œ ë“¤ì–´ì™”ì„ ë•Œ</h4>
          <div style="background: white; padding: 10px; border-radius: 5px; font-size: 11pt; line-height: 1.8;">
            <p>â‘  "ë„¤ê°€ <strong style="color: #9B8BC8;">ì¼ì´ ë§ì•„ì„œ</strong> ê·¸ë¬êµ¬ë‚˜. ê·¸ë˜ì„œ ë‚˜ëŠ” <strong style="color: #E88BC8;">ì•„ì‰¬ì› ì–´</strong>."</p>
            <p>â‘¡ "ë‚˜ëŠ” <strong style="color: #4A90E2;">ì•„ë¹ ì™€ í•¨ê»˜í•˜ëŠ” ì‹œê°„</strong>ì´ í•„ìš”í–ˆì–´."</p>
            <p>â‘¢ "ìš°ë¦¬ê°€ í•  ìˆ˜ ìˆëŠ” ì‘ì€ ì•½ì†ì€ <strong style="color: #FF8C00;">ì£¼ë§ì—ëŠ” ê¼­ ê°™ì´ ë†€ê¸°</strong>ì•¼."</p>
          </div>
        </div>
      </div>

      <div class="tip" style="background: #FFFACD; border-left-color: #FFB84D;">
        <h4 style="margin-bottom: 10px;">âœ¨ ì˜ ì“°ëŠ” ë¹„ë²•!</h4>
        <ul style="margin: 0; padding-left: 20px; font-size: 10pt; line-height: 1.8;">
          <li><strong>ì†”ì§í•˜ê²Œ:</strong> ë‚´ ë§ˆìŒì„ ìˆ¨ê¸°ì§€ ë§ê³  ì†”ì§í•˜ê²Œ ì¨ìš”</li>
          <li><strong>ì¹œì ˆí•˜ê²Œ:</strong> ê°€ì¡±ë„ ë‚˜ë¦„ì˜ ì´ìœ ê°€ ìˆì—ˆë‹¤ê³  ìƒê°í•´ìš”</li>
          <li><strong>êµ¬ì²´ì ìœ¼ë¡œ:</strong> "ì¢‹ì•˜ì–´" ë³´ë‹¤ëŠ” "ê¸°ë»¤ì–´", "ì„¤ë œì–´"ì²˜ëŸ¼ êµ¬ì²´ì ìœ¼ë¡œ</li>
          <li><strong>ì‹¤ì²œ ê°€ëŠ¥í•˜ê²Œ:</strong> ìš°ë¦¬ê°€ ì •ë§ ì§€í‚¬ ìˆ˜ ìˆëŠ” ì‘ì€ ì•½ì†ì„ ë§Œë“¤ì–´ìš”</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ì›Œí¬ì‹œíŠ¸ ì»¨í…Œì´ë„ˆ -->
  <div id="worksheets"></div>

  <!-- 14: ê°ì • ë‹¨ì–´ ì‚¬ì „ -->
  <section class="page">
    <h2 style="text-align: center; color: var(--pri); margin-bottom: 20px;">ğŸ“– ê°ì • ë‹¨ì–´ ì‚¬ì „</h2>
    
    <div class="dict">
      <div class="dict-cat">
        <h4>ğŸ˜Š ê¸°ì  ë•Œ</h4>
        <div class="chips">
          <span class="chip">í–‰ë³µí•´ìš”</span>
          <span class="chip">ì‹ ë‚˜ìš”</span>
          <span class="chip">ì¦ê±°ì›Œìš”</span>
          <span class="chip">ë¿Œë“¯í•´ìš”</span>
          <span class="chip">ê°ì‚¬í•´ìš”</span>
          <span class="chip">ì„¤ë ˆìš”</span>
        </div>
      </div>
      
      <div class="dict-cat">
        <h4>ğŸ˜¢ ìŠ¬í”Œ ë•Œ</h4>
        <div class="chips">
          <span class="chip">ì„œìš´í•´ìš”</span>
          <span class="chip">ì™¸ë¡œì›Œìš”</span>
          <span class="chip">ê·¸ë¦¬ì›Œìš”</span>
          <span class="chip">ì‹¤ë§í–ˆì–´ìš”</span>
          <span class="chip">ì†ìƒí•´ìš”</span>
          <span class="chip">ì•„ì‰¬ì›Œìš”</span>
        </div>
      </div>
      
      <div class="dict-cat">
        <h4>ğŸ˜  í™”ë‚  ë•Œ</h4>
        <div class="chips">
          <span class="chip">ì§œì¦ë‚˜ìš”</span>
          <span class="chip">ì–µìš¸í•´ìš”</span>
          <span class="chip">ë‹µë‹µí•´ìš”</span>
          <span class="chip">ë¶„í•´ìš”</span>
          <span class="chip">ë¶ˆí¸í•´ìš”</span>
          <span class="chip">í™”ë‚˜ìš”</span>
        </div>
      </div>
      
      <div class="dict-cat">
        <h4>ğŸ˜° ë¬´ì„œìš¸ ë•Œ</h4>
        <div class="chips">
          <span class="chip">ê±±ì •ë¼ìš”</span>
          <span class="chip">ë¶ˆì•ˆí•´ìš”</span>
          <span class="chip">ê¸´ì¥ë¼ìš”</span>
          <span class="chip">ë‘ë ¤ì›Œìš”</span>
          <span class="chip">ë–¨ë ¤ìš”</span>
          <span class="chip">ë¬´ì„œì›Œìš”</span>
        </div>
      </div>
    </div>
    
    <div style="margin-top: 30px; padding: 20px; background: #F0F9FF; border-radius: 10px;">
      <h3 style="color: var(--pri); margin-bottom: 15px;">ğŸ’¬ ë¬¸ì¥ ë§Œë“¤ê¸° ë„ìš°ë¯¸</h3>
      
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
        <div>
          <strong style="color: var(--pri-2);">ê°€ì¡±ì´ ì™œ ê·¸ë¬ì„ê¹Œ? (ìƒê°)</strong>
          <ul style="margin: 10px 0; padding-left: 20px; font-size: 10pt;">
            <li>ë°”ë¹ ì„œ / í”¼ê³¤í•´ì„œ</li>
            <li>ê±±ì •ë¼ì„œ / ë¬´ì„œì›Œì„œ</li>
            <li>ë„ì™€ì£¼ê³  ì‹¶ì–´ì„œ</li>
            <li>ê°™ì´ í•˜ê³  ì‹¶ì–´ì„œ</li>
            <li>ë‚˜ë¥¼ ì§€í‚¤ë ¤ê³ </li>
          </ul>
        </div>
        
        <div>
          <strong style="color: var(--pri-2);">ìš°ë¦¬ê°€ í•  ìˆ˜ ìˆëŠ” ì•½ì†</strong>
          <ul style="margin: 10px 0; padding-left: 20px; font-size: 10pt;">
            <li>ë§¤ì¼ 5ë¶„ ëŒ€í™”í•˜ê¸°</li>
            <li>í•œ ë²ˆ ë” ë¬¼ì–´ë³´ê¸°</li>
            <li>ëê¹Œì§€ ë“¤ì–´ì£¼ê¸°</li>
            <li>ì¼ì£¼ì¼ì— í•œ ë²ˆ ë†€ê¸°</li>
            <li>ì„œë¡œ ê³ ë§™ë‹¤ê³  ë§í•˜ê¸°</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- 15: ë‚˜ì˜ ì„±ì¥ ê¸°ë¡ -->
  <section class="page">
    <h2 style="text-align: center; color: var(--pri); margin-bottom: 20px;">ğŸŒ± ë‚˜ì˜ ì„±ì¥ ê¸°ë¡</h2>
    
    <div class="record">
      <h3>âœ¨ 10ì£¼ ë™ì•ˆ ë‚˜ëŠ”...</h3>
      
      <div class="rec-item">
        <div class="ttl">ê°€ì¥ ê¸°ì–µì— ë‚¨ëŠ” ìˆœê°„</div>
        <textarea class="rec-textarea"></textarea>
      </div>
      
      <div class="rec-item">
        <div class="ttl">ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ê°€ì¡±ì˜ ë§ˆìŒ</div>
        <textarea class="rec-textarea"></textarea>
      </div>
      
      <div class="rec-item">
        <div class="ttl">ë‚´ê°€ ê°€ì¥ ë§ì´ ëŠë‚€ ê°ì •</div>
        <textarea class="rec-textarea"></textarea>
      </div>
      
      <div class="rec-item">
        <div class="ttl">ë‚´ê°€ ì„±ì¥í–ˆë‹¤ê³  ëŠë‚€ ì </div>
        <textarea class="rec-textarea"></textarea>
      </div>
    </div>
    
    <div style="margin-top: 30px; text-align: center;">
      <div style="display: inline-block; padding: 20px 40px; border: 3px solid var(--acc-1); border-radius: 15px; background: #FFF9E6;">
        <h3 style="color: #FF8C00; margin-bottom: 10px;">ğŸ† ë‚˜ì—ê²Œ ì£¼ëŠ” ìƒ</h3>
        <p style="font-size: 14pt; margin: 10px 0;">10ì£¼ ë™ì•ˆ ì—´ì‹¬íˆ ë…¸ë ¥í•œ</p>
        <p style="font-size: 18pt; font-weight: bold; color: var(--pri);">
          <input type="text" class="text" style="display: inline-block; width: 200px;"> ì—ê²Œ
        </p>
        <p style="font-size: 14pt; margin-top: 20px;">
          "<input type="text" class="text" style="display: inline-block; width: 250px;"> ìƒ"ì„ ë“œë¦½ë‹ˆë‹¤!
        </p>
      </div>
    </div>
  </section>

  <!-- 16: ê°€ì¡±ê³¼ ì†Œí†µí•˜ëŠ” íŒ -->
  <section class="page">
    <h2 style="text-align: center; color: var(--pri); margin-bottom: 20px;">ğŸ’¡ ê°€ì¡±ê³¼ ì†Œí†µí•˜ëŠ” íŒ</h2>
    
    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
      <div style="background: #FFF0F5; padding: 20px; border-radius: 10px;">
        <h3 style="color: #D1486F; margin-bottom: 15px;">â¤ï¸ ë§ˆìŒì„ ì—¬ëŠ” ë§</h3>
        <ul style="padding-left: 20px; line-height: 2;">
          <li>"ì˜¤ëŠ˜ ì–´ë–¤ ì¼ì´ ìˆì—ˆì–´?"</li>
          <li>"ë„¤ ìƒê°ì€ ì–´ë•Œ?"</li>
          <li>"ë” ë“£ê³  ì‹¶ì–´"</li>
          <li>"ë„¤ ë§ˆìŒì„ ì•Œê³  ì‹¶ì–´"</li>
          <li>"í•¨ê»˜ í•´ê²°í•´ë³´ì"</li>
        </ul>
      </div>
      
      <div style="background: #F0F9FF; padding: 20px; border-radius: 10px;">
        <h3 style="color: #4A90E2; margin-bottom: 15px;">ğŸ‘‚ ì˜ ë“£ëŠ” ë°©ë²•</h3>
        <ul style="padding-left: 20px; line-height: 2;">
          <li>ëˆˆì„ ë³´ë©° ë“¤ì–´ìš”</li>
          <li>ê³ ê°œë¥¼ ë„ë•ì—¬ìš”</li>
          <li>ì¤‘ê°„ì— ëŠì§€ ì•Šì•„ìš”</li>
          <li>"ê·¸ë¬êµ¬ë‚˜"ë¼ê³  ë§í•´ìš”</li>
          <li>ë‹¤ì‹œ í•œë²ˆ ë¬¼ì–´ë´ìš”</li>
        </ul>
      </div>
      
      <div style="background: #F0FFF5; padding: 20px; border-radius: 10px;">
        <h3 style="color: #4CAF50; margin-bottom: 15px;">ğŸ¤ í™”í•´í•˜ëŠ” ë°©ë²•</h3>
        <ul style="padding-left: 20px; line-height: 2;">
          <li>ë¨¼ì € "ë¯¸ì•ˆí•´"ë¼ê³  ë§í•´ìš”</li>
          <li>ìƒëŒ€ë°©ì˜ ë§ˆìŒì„ ì´í•´í•´ìš”</li>
          <li>ì•ìœ¼ë¡œ ì–´ë–»ê²Œ í• ì§€ ì•½ì†í•´ìš”</li>
          <li>í¬ì˜¹ì„ í•´ìš”</li>
          <li>í•¨ê»˜ ì¦ê±°ìš´ ì¼ì„ í•´ìš”</li>
        </ul>
      </div>
      
      <div style="background: #FFF9E6; padding: 20px; border-radius: 10px;">
        <h3 style="color: var(--acc-1); margin-bottom: 15px;">âœ¨ ê°ì‚¬ í‘œí˜„í•˜ê¸°</h3>
        <ul style="padding-left: 20px; line-height: 2;">
          <li>"ê³ ë§ˆì›Œ"ë¥¼ ìì£¼ ë§í•´ìš”</li>
          <li>í¸ì§€ë¥¼ ì¨ìš”</li>
          <li>ë„ì™€ë“œë ¤ìš”</li>
          <li>ì•ˆì•„ë“œë ¤ìš”</li>
          <li>í•¨ê»˜ ì‹œê°„ì„ ë³´ë‚´ìš”</li>
        </ul>
      </div>
    </div>
    
    <div class="family-promise">
      <h3 style="color: var(--pri); margin-bottom: 20px;">ğŸŒˆ ìš°ë¦¬ ê°€ì¡± ì•½ì†</h3>
      <div style="text-align: left; max-width: 500px; margin: 0 auto;">
        <p style="margin: 15px 0;">
          1. <input type="text" class="text" style="width: 90%;">
        </p>
        <p style="margin: 15px 0;">
          2. <input type="text" class="text" style="width: 90%;">
        </p>
        <p style="margin: 15px 0;">
          3. <input type="text" class="text" style="width: 90%;">
        </p>
      </div>
      <p style="margin-top: 30px; font-size: 14pt; color: var(--pri-2);">
        ğŸ’ ìš°ë¦¬ ê°€ì¡± ëª¨ë‘ í•¨ê»˜ ì§€ì¼œìš”! ğŸ’
      </p>
    </div>
  </section>

  <script>
    // ìƒìˆ˜ ì •ì˜
    const DOC_KEY = 'emotion_bridge_data';
    let wsCounter = 0;

    // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
    function wid(suffix) {
      return `ws${wsCounter}_${suffix}`;
    }

    // ì›Œí¬ì‹œíŠ¸ ì„¹ì…˜ ìƒì„±
    function wsSection(num) {
      wsCounter = num;
      return `
        <section class="page">
          <div class="ws-header">
            <h2>ğŸ“ ${num}íšŒì°¨ í•™ìŠµì§€</h2>
            <div class="grid3">
              <div class="field">
                <label>ë‚ ì§œ</label>
                <input type="date" class="text" id="${wid('date')}">
              </div>
              <div class="field">
                <label>ìš”ì¼</label>
                <input type="text" class="text" id="${wid('day')}">
              </div>
              <div class="field">
                <label>ì œëª©</label>
                <input type="text" class="text" id="${wid('title')}">
              </div>
            </div>
          </div>

          <div class="section s1">
            <h3>1. ê·¸ë•Œ ë‚´ ë§ˆìŒ ë‚ ì”¨ ê³ ë¥´ê¸° â˜ï¸</h3>
            <div class="weather-grid">
              <label class="weather-item">
                <input type="radio" name="${wid('weather')}" value="sunny">
                <span class="emoji">â˜€ï¸</span>
                <span class="caption">ë§‘ìŒ</span>
              </label>
              <label class="weather-item">
                <input type="radio" name="${wid('weather')}" value="cloudy">
                <span class="emoji">â›…</span>
                <span class="caption">êµ¬ë¦„</span>
              </label>
              <label class="weather-item">
                <input type="radio" name="${wid('weather')}" value="rainy">
                <span class="emoji">ğŸŒ§ï¸</span>
                <span class="caption">ë¹„</span>
              </label>
              <label class="weather-item">
                <input type="radio" name="${wid('weather')}" value="stormy">
                <span class="emoji">â›ˆï¸</span>
                <span class="caption">ë²ˆê°œ</span>
              </label>
              <label class="weather-item">
                <input type="radio" name="${wid('weather')}" value="rainbow">
                <span class="emoji">ğŸŒˆ</span>
                <span class="caption">ë¬´ì§€ê°œ</span>
              </label>
              <label class="weather-item">
                <input type="radio" name="${wid('weather')}" value="foggy">
                <span class="emoji">ğŸŒ«ï¸</span>
                <span class="caption">ì•ˆê°œ</span>
              </label>
            </div>
            
            <p><strong>ëŠë‚Œ ì„¸ê¸° (1~5):</strong></p>
            <div class="scale" data-ws="${num}">
              <div class="box" data-level="1">1</div>
              <div class="box" data-level="2">2</div>
              <div class="box" data-level="3">3</div>
              <div class="box" data-level="4">4</div>
              <div class="box" data-level="5">5</div>
            </div>
            
            <p><strong>ëª¸ì˜ ì‹ í˜¸:</strong></p>
            <div class="check-grid">
              <label class="check">
                <input type="checkbox" id="${wid('body1')}">
                <span>ğŸ˜¢ ëˆˆë¬¼ì´ ë‚˜ìš”</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('body2')}">
                <span>ğŸ˜Š ì–¼êµ´ì´ ë¹¨ê°œì ¸ìš”</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('body3')}">
                <span>ğŸ˜£ ì–´ê¹¨ê°€ ë”±ë”±í•´ìš”</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('body4')}">
                <span>ğŸ¤¢ ë°°ê°€ ì•„íŒŒìš”</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('body5')}">
                <span>ğŸ˜„ ì›ƒìŒì´ ë‚˜ìš”</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('body6')}">
                <span>ğŸ’“ ì‹¬ì¥ì´ ì½©ë‹¥ê±°ë ¤ìš”</span>
              </label>
            </div>
          </div>

          <div class="section s2">
            <h3>2. ê·¸ë•Œ ë‚´ê°€ ì›í–ˆë˜ ê²ƒ ğŸŒŸ</h3>
            <div class="check-grid">
              <label class="check">
                <input type="checkbox" id="${wid('need1')}">
                <span>ğŸ’¤ íœ´ì‹</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('need2')}">
                <span>ğŸ‘ ì¹­ì°¬/ì¸ì •</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('need3')}">
                <span>ğŸ¤ í•¨ê»˜í•¨</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('need4')}">
                <span>ğŸ‘€ ê´€ì‹¬</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('need5')}">
                <span>ğŸˆ ììœ </span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('need6')}">
                <span>ğŸ’¬ ì¡´ì¤‘</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('need7')}">
                <span>ğŸ™‹ ë„ì›€</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('need8')}">
                <span>ğŸ•’ ì‹œê°„</span>
              </label>
              <label class="check">
                <input type="checkbox" id="${wid('need9')}">
                <span>ğŸ›¡ï¸ ì•ˆì „</span>
              </label>
            </div>
            <p>"ë‚˜ëŠ” ì‚¬ì‹¤ <input class="fill" id="${wid('actually')}"> ê°€(ì´) í•„ìš”í–ˆì–´ìš”."</p>
          </div>

          <div class="section s3">
            <h3>3. ê°€ì¡± ë§ˆìŒ ìƒìƒí•˜ê¸° ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</h3>
            <p><strong>ëˆ„êµ¬:</strong> <input type="text" class="fill" id="${wid('who')}"></p>
            <p><strong>ê·¸ ì‚¬ëŒì˜ ë§ˆìŒ ë‚ ì”¨:</strong></p>
            <div style="display: flex; gap: 15px; margin: 10px 0; flex-wrap: wrap;">
              <label><input type="radio" name="${wid('fweather')}" value="sunny"> â˜€ï¸ ë§‘ìŒ</label>
              <label><input type="radio" name="${wid('fweather')}" value="cloudy"> â›… êµ¬ë¦„</label>
              <label><input type="radio" name="${wid('fweather')}" value="rainy"> ğŸŒ§ï¸ ë¹„</label>
              <label><input type="radio" name="${wid('fweather')}" value="stormy"> â›ˆï¸ ë²ˆê°œ</label>
              <label><input type="radio" name="${wid('fweather')}" value="rainbow"> ğŸŒˆ ë¬´ì§€ê°œ</label>
              <label><input type="radio" name="${wid('fweather')}" value="foggy"> ğŸŒ«ï¸ ì•ˆê°œ</label>
            </div>
            <p><strong>ì™œ ê·¸ë ‡ê²Œ ìƒê°í–ˆë‚˜ìš”?</strong></p>
            <input type="text" class="text" style="width: 100%;" id="${wid('why')}">
          </div>

          <div class="section s4">
            <h3>4. ë§ˆìŒì„ ì „í•˜ëŠ” ë§ ì—°ìŠµ ğŸ’¬</h3>
            
            <div class="tip" style="background:#F3E5FF; border-left-color:#9B8BC8;">
              <p style="font-size:10pt; color:#7B6BA8; margin:0 0 6px;"><strong>ğŸ’¡ ë„ì›€ë§</strong></p>
              <div style="font-size:9pt; color:#666; line-height:1.6;">
                <p><strong>â‘  ê°€ì¡±ì˜ ìƒê°:</strong> ë°”ë¹ ì„œ, í”¼ê³¤í•´ì„œ, ê±±ì •ë¼ì„œ, ì‹¬ì‹¬í•´ì„œ, ê°™ì´ ë†€ê³  ì‹¶ì–´ì„œ</p>
                <p><strong>â‘¡ ë‚´ ë§ˆìŒ:</strong> ì„œìš´í–ˆì–´, í™”ê°€ ë‚¬ì–´, ì™¸ë¡œì› ì–´, ë†€ëì–´, ì†ìƒí–ˆì–´</p>
                <p><strong>â‘¢ ë‚´ê°€ ì›í•œ ê²ƒ:</strong> ê´€ì‹¬, ë„ì›€, ì‹œê°„, ì¹­ì°¬, í•¨ê»˜ ë†€ê¸°</p>
                <p><strong>â‘£ ì•½ì†:</strong> ë§¤ì¼ 10ë¶„ ë†€ê¸°, ë§í•  ë•Œ ëê¹Œì§€ ë“£ê¸°, ë¨¼ì € ë¬¼ì–´ë³´ê¸°</p>
              </div>
            </div>
            
            <p>â‘  "ë„¤ê°€ <input class="fill" id="${wid('say1a')}"> ê·¸ë¬êµ¬ë‚˜. ê·¸ë˜ì„œ ë‚˜ëŠ” <input class="fill" id="${wid('say1b')}">."</p>
            
            <p>â‘¡ "ë‚˜ëŠ” <input class="fill" id="${wid('say2')}"> ì´ í•„ìš”í–ˆì–´."</p>
            
            <p>â‘¢ "ìš°ë¦¬ê°€ í•  ìˆ˜ ìˆëŠ” ì‘ì€ ì•½ì†ì€ <input class="fill" id="${wid('say3')}"> ì´ì•¼."</p>
          </div>

          <div class="section s5">
            <h3>5. ì§‘ì—ì„œ í•´ë³´ê¸° ğŸ </h3>
            <p><strong>ì˜¤ëŠ˜ ë°¤ ê°€ì¡±ì—ê²Œ ë¬¼ì–´ë³¼ ì§ˆë¬¸:</strong></p>
            <div class="homebox">
              <textarea class="q" id="${wid('homeq')}"></textarea>
            </div>
            <div style="margin-top:10px; display:flex; gap:16px; flex-wrap:wrap;">
              <label><input type="checkbox" id="${wid('asked')}"> ë¬¼ì–´ë´¤ì–´ìš”! âœ…</label>
              <label><input type="checkbox" id="${wid('later')}"> ë‹¤ìŒì— í• ê²Œìš” â°</label>
            </div>
          </div>
        </section>
      `;
    }

    // ì˜ˆì‹œ ì›Œí¬ì‹œíŠ¸ ì œê±° (ì‘ì„± ì˜ˆì‹œ í˜ì´ì§€ë¡œ ì¶©ë¶„í•¨)
    function buildWorksheets() {
      const host = document.getElementById('worksheets');
      let html = '';
      
      // 1-10íšŒì°¨ ì›Œí¬ì‹œíŠ¸ë§Œ ìƒì„±
      for (let i = 1; i <= 10; i++) {
        html += wsSection(i);
      }
      host.innerHTML = html;
      
      // ê°ì • ì„¸ê¸° ì´ë²¤íŠ¸ ë°”ì¸ë”©
      document.querySelectorAll('.scale').forEach(scale => {
        const boxes = scale.querySelectorAll('.box');
        boxes.forEach((box, index) => {
          box.addEventListener('click', () => {
            boxes.forEach((b, i) => {
              if (i <= index) {
                b.classList.add('filled');
              } else {
                b.classList.remove('filled');
              }
            });
            saveAll();
          });
        });
      });
    }

    // ì§„ë„ ì²´í¬ ìƒì„±
    function buildProgress() {
      const grid = document.getElementById('progressGrid');
      for (let i = 1; i <= 10; i++) {
        const b = document.createElement('button');
        b.type = 'button';
        b.className = 'puck';
        b.textContent = i;
        b.setAttribute('aria-pressed', 'false');
        b.addEventListener('click', () => {
          b.classList.toggle('done');
          b.setAttribute('aria-pressed', b.classList.contains('done') ? 'true' : 'false');
          saveAll();
        });
        grid.appendChild(b);
      }
    }

    // ì €ì¥ ê¸°ëŠ¥
    function saveAll() {
      const data = {};
      
      // ëª¨ë“  inputê³¼ textarea ì €ì¥
      document.querySelectorAll('input, textarea').forEach(el => {
        if (el.type === 'checkbox' || el.type === 'radio') {
          if (el.checked) {
            data[el.id || el.name] = el.type === 'checkbox' ? true : el.value;
          }
        } else if (el.id) {
          data[el.id] = el.value;
        }
      });
      
      // ì§„ë„ ì²´í¬ ì €ì¥
      const progress = [];
      document.querySelectorAll('.puck').forEach((p, i) => {
        if (p.classList.contains('done')) {
          progress.push(i + 1);
        }
      });
      data.progress = progress;
      
      // ê°ì • ì„¸ê¸° ì €ì¥
      document.querySelectorAll('.scale').forEach(scale => {
        const ws = scale.dataset.ws;
        if (ws) {
          const filled = scale.querySelectorAll('.box.filled').length;
          data[`ws${ws}_scale`] = filled;
        }
      });
      
      localStorage.setItem(DOC_KEY, JSON.stringify(data));
    }

    // ë¶ˆëŸ¬ì˜¤ê¸° ê¸°ëŠ¥
    function loadAll() {
      const raw = localStorage.getItem(DOC_KEY);
      if (!raw) return;
      
      const data = JSON.parse(raw);
      
      // inputê³¼ textarea ë³µì›
      Object.keys(data).forEach(key => {
        const el = document.getElementById(key);
        if (el) {
          if (el.type === 'checkbox') {
            el.checked = data[key] === true;
          } else if (el.type === 'radio') {
            el.checked = true;
          } else {
            el.value = data[key];
          }
        }
      });
      
      // radio ê·¸ë£¹ ë³µì›
      document.querySelectorAll('input[type="radio"]').forEach(r => {
        if (data[r.name] && r.value === data[r.name]) {
          r.checked = true;
        }
      });
      
      // ì§„ë„ ì²´í¬ ë³µì›
      if (data.progress) {
        const pucks = document.querySelectorAll('.puck');
        data.progress.forEach(num => {
          if (pucks[num - 1]) {
            pucks[num - 1].classList.add('done');
            pucks[num - 1].setAttribute('aria-pressed', 'true');
          }
        });
      }
      
      // ê°ì • ì„¸ê¸° ë³µì›
      document.querySelectorAll('.scale').forEach(scale => {
        const ws = scale.dataset.ws;
        if (ws && data[`ws${ws}_scale`]) {
          const boxes = scale.querySelectorAll('.box');
          const filled = data[`ws${ws}_scale`];
          boxes.forEach((box, i) => {
            if (i < filled) {
              box.classList.add('filled');
            }
          });
        }
      });
    }

    // ìº”ë²„ìŠ¤ ë‹¤ìš´ë¡œë“œ
    function downloadCanvas(canvas, fileName) {
      if (canvas.toBlob) {
        canvas.toBlob(blob => {
          const a = document.createElement('a');
          a.href = URL.createObjectURL(blob);
          a.download = fileName;
          a.click();
          URL.revokeObjectURL(a.href);
        });
      } else {
        const a = document.createElement('a');
        a.href = canvas.toDataURL('image/png');
        a.download = fileName;
        a.click();
      }
    }

    // ê·¸ë¼ë””ì–¸íŠ¸ ê·¸ë¦¬ê¸°
    function drawGradientRect(ctx, w, h, c1, c2) {
      const g = ctx.createLinearGradient(0, 0, w, h);
      g.addColorStop(0, c1);
      g.addColorStop(1, c2);
      ctx.fillStyle = g;
      ctx.fillRect(0, 0, w, h);
    }

    // ì¸ì¦ì„œ ìƒì„±
    function generateCertificate() {
      const name = (document.getElementById('cover-name')?.value || 'ì¹œêµ¬').trim();
      const cls = (document.getElementById('cover-class')?.value || '').trim();
      const goal = (document.getElementById('cover-goal')?.value || '').trim();
      const progressRate = Math.round((document.querySelectorAll('.puck.done').length / 10) * 100);
      const date = new Date();

      const W = 1200, H = 800;
      const c = document.createElement('canvas');
      c.width = W;
      c.height = H;
      const ctx = c.getContext('2d');
      
      drawGradientRect(ctx, W, H, '#667eea', '#764ba2');
      
      ctx.fillStyle = '#fff';
      ctx.font = '48px Arial';
      ctx.fillText('ğŸ† í•™ìŠµ ì™„ë£Œ ì¸ì¦ì„œ', 60, 110);
      ctx.font = '36px Arial';
      ctx.fillText(`${name}${cls ? ' (' + cls + ')' : ''} ë‹˜`, 60, 200);
      ctx.font = '28px Arial';
      ctx.fillText('ê°ì •â†’ê°€ì¡± ë¸Œë¦¿ì§€(10ì°¨ì‹œ)ë¥¼ ì„±ì‹¤íˆ ì™„ë£Œí•˜ì˜€ìŠµë‹ˆë‹¤.', 60, 260);
      ctx.fillText(`ë‹¬ì„±ë¥ : ${progressRate}%`, 60, 310);
      if (goal) ctx.fillText(`í•™ìŠµ ëª©í‘œ: ${goal}`, 60, 360);
      ctx.font = '22px Arial';
      ctx.fillText(`ë°œê¸‰ì¼: ${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`, 60, 410);

      downloadCanvas(c, `ì¸ì¦ì„œ_${name}.png`);
    }

    // ê³µìœ ì¹´ë“œ ìƒì„±
    function generateShareCard() {
      const title = 'ê°ì •â†’ê°€ì¡± ë¸Œë¦¿ì§€';
      const name = (document.getElementById('cover-name')?.value || 'ì¹œêµ¬').trim();
      const progress = document.querySelectorAll('.puck.done').length;
      
      const W = 1080, H = 1080;
      const c = document.createElement('canvas');
      c.width = W;
      c.height = H;
      const ctx = c.getContext('2d');
      
      drawGradientRect(ctx, W, H, '#f093fb', '#f5576c');
      
      ctx.textAlign = 'center';
      ctx.fillStyle = '#fff';
      ctx.font = '120px Arial';
      ctx.fillText('ğŸ‰', W / 2, 260);
      ctx.font = '56px Arial';
      ctx.fillText(`${title} ì™„ë£Œ ë„ì „!`, W / 2, 380);
      ctx.font = '42px Arial';
      ctx.fillText(`${name} Â· ì§„í–‰ ${progress}/10`, W / 2, 460);
      ctx.font = '28px Arial';
      ctx.fillText('#ì˜¨ë¼ì¸í•™ìŠµ #ì„±ì¥ #ê°€ì¡±ëŒ€í™”', W / 2, 520);
      
      downloadCanvas(c, `ê³µìœ ì¹´ë“œ_${name}.png`);
    }

    // ì´ˆê¸°í™”
    function resetAll() {
      if (!confirm('ëª¨ë“  ì‘ì„± ë‚´ìš©ì„ ì´ˆê¸°í™”í• ê¹Œìš”?')) return;
      localStorage.removeItem(DOC_KEY);
      location.reload();
    }

    // ìë™ ì €ì¥
    function wireAutosave() {
      document.body.addEventListener('input', saveAll);
      document.body.addEventListener('change', saveAll);
      setInterval(saveAll, 15000); // 15ì´ˆë§ˆë‹¤ ìë™ ì €ì¥
    }

    // ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', () => {
      // ì›Œí¬ì‹œíŠ¸ ì‚½ì… ìœ„ì¹˜ ìƒì„±
      const worksheetContainer = document.createElement('div');
      worksheetContainer.id = 'worksheets';
      
      // ì‚¬ìš© ê°€ì´ë“œ ë‹¤ìŒì— ì‚½ì…
      const guidePage = document.querySelectorAll('.page')[2];
      if (guidePage && guidePage.nextSibling) {
        guidePage.parentNode.insertBefore(worksheetContainer, guidePage.nextSibling);
      }
      
      // ì´ˆê¸°í™”
      buildWorksheets();
      buildProgress();
      loadAll();
      wireAutosave();
      
      // ë²„íŠ¼ ì´ë²¤íŠ¸
      document.getElementById('btnPrint').addEventListener('click', () => window.print());
      document.getElementById('btnCert').addEventListener('click', generateCertificate);
      document.getElementById('btnShare').addEventListener('click', generateShareCard);
      document.getElementById('btnReset').addEventListener('click', resetAll);
    });
  </script>
</body>
</html>
